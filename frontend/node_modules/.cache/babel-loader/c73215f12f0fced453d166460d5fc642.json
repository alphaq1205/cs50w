{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/abhishek/projects/personal/harward_projects/har_test/two/iotDashboard2/frontend/src/component/auth/login.js\";\nimport React from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport Card from \"react-bootstrap/Card\";\nimport Form from \"react-bootstrap/Form\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Button from \"react-bootstrap/Button\";\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n\n    this.submit = () => {\n      this.setState({\n        loading: true\n      });\n      let {\n        username,\n        password\n      } = this.state;\n      let formData = new FormData();\n      formData.append('username', username);\n      formData.append('password', password);\n      let url = 'http://127.0.0.1:8000/login';\n      fetch(url, {\n        method: \"POST\",\n        body: formData\n      }).then(responseJson => responseJson.json()).then(response => {\n        alert(response.message);\n\n        if (response.status == 'true') {\n          this.setState({\n            loginStatus: true\n          });\n        }\n      }).then(() => {\n        let key = Math.random();\n\n        if (this.state.loginStatus) {\n          localStorage.setItem('key', key);\n          localStorage.setItem('email', this.state.username);\n          this.props.history.push(\"/homepage\");\n        }\n\n        this.setState({\n          loading: false\n        });\n      }).catch(error => {\n        alert(\"Something went wrong please try again\");\n      });\n    };\n\n    this.state = {\n      username: \"\",\n      //test1@test.com\n      password: \"\",\n      //123456\n      token: \"\",\n      loading: false,\n      loginStatus: false\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      className: \"my-sm-5 my-2\",\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: {\n            span: 4,\n            offset: 4\n          },\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n              as: \"h1\",\n              children: [\"Login\", /*#__PURE__*/_jsxDEV(Card.Title, {\n                className: \"text-muted mt-1\",\n                children: \"IOT Dashboard\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: /*#__PURE__*/_jsxDEV(Card.Text, {\n                children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"Email\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 73,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    type: \"email\",\n                    placeholder: \"Enter username\",\n                    value: this.state.username,\n                    onChange: e => this.setState({\n                      username: e.target.value\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 74,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 72,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"Password\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 85,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    type: \"password\",\n                    placeholder: \"Enter password\",\n                    value: this.state.password,\n                    onChange: e => this.setState({\n                      password: e.target.value\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 86,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  type: \"submit\",\n                  variant: \"primary\",\n                  block: true,\n                  onClick: this.submit,\n                  disabled: this.state.loading,\n                  children: [this.state.loading && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"spinner-border spinner-border-sm\",\n                    role: \"status\",\n                    \"aria-hidden\": \"true\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 105,\n                    columnNumber: 23\n                  }, this), this.state.loading && /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Signing In\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 111,\n                    columnNumber: 44\n                  }, this), !this.state.loading && /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Sign In\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 112,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Card.Footer, {\n              className: \"text-muted text-center\",\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    to: \"/\",\n                    children: \"Home\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 119,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 118,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  className: \"text-sm-right\",\n                  sm: {\n                    span: 8\n                  },\n                  children: [\"No account?\", /*#__PURE__*/_jsxDEV(Link, {\n                    to: \"/registration\",\n                    id: \"custom-link\",\n                    children: [\" \", \"Register\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 123,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 121,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(Login);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/home/abhishek/projects/personal/harward_projects/har_test/two/iotDashboard2/frontend/src/component/auth/login.js"],"names":["React","Link","withRouter","Card","Form","Container","Row","Col","Button","Login","Component","constructor","submit","setState","loading","username","password","state","formData","FormData","append","url","fetch","method","body","then","responseJson","json","response","alert","message","status","loginStatus","key","Math","random","localStorage","setItem","props","history","push","catch","error","token","render","span","offset","e","target","value"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Link,withRouter } from \"react-router-dom\";\nimport Card from \"react-bootstrap/Card\";\nimport Form from \"react-bootstrap/Form\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Button from \"react-bootstrap/Button\";\n class Login extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      username: \"\", //test1@test.com\n      password: \"\", //123456\n      token: \"\",\n      loading: false,\n      loginStatus: false\n    };\n  }\n\n\n  submit = () => {\n\n    this.setState({ loading: true });\n    let {username, password} = this.state\n\n    let formData = new FormData();\n    formData.append('username', username)\n    formData.append('password', password)\n\n    let url = 'http://127.0.0.1:8000/login'\n    fetch(url, {\n      method: \"POST\",\n      body:formData \n    })\n      .then((responseJson) => responseJson.json())\n      .then((response) => {\n        alert(response.message)\n        if(response.status == 'true'){\n          this.setState({loginStatus:true})\n        }\n      })\n      .then(() => {\n        let key = Math.random()\n        if(this.state.loginStatus){\n          \n          localStorage.setItem('key',key)\n          localStorage.setItem('email',this.state.username)\n          this.props.history.push(\"/homepage\")\n        }\n        this.setState({ loading: false });\n      })\n      .catch((error) => {\n        alert(\"Something went wrong please try again\");\n      });\n  };\n\n  render() {\n    return (\n      <Container className=\"my-sm-5 my-2\">\n        <Row>\n          <Col md={{ span: 4, offset: 4 }}>\n            <Card>\n              <Card.Header as=\"h1\">\n                Login\n                <Card.Title className=\"text-muted mt-1\">\n                   IOT Dashboard\n                </Card.Title>\n              </Card.Header>\n              <Card.Body>\n                <Card.Text>\n                  <Form.Group>\n                    <Form.Label>Email</Form.Label>\n                    <Form.Control\n                      type=\"email\"\n                      placeholder=\"Enter username\"\n                      value={this.state.username}\n                      onChange={(e) =>\n                        this.setState({ username: e.target.value })\n                      }\n                    />\n                  </Form.Group>\n\n                  <Form.Group>\n                    <Form.Label>Password</Form.Label>\n                    <Form.Control\n                      type=\"password\"\n                      placeholder=\"Enter password\"\n                      value={this.state.password}\n                      onChange={(e) =>\n                        this.setState({ password: e.target.value })\n                      }\n                    />\n                  </Form.Group>\n      \n\n                  <Button\n                    type=\"submit\"\n                    variant=\"primary\"\n                    block\n                    onClick={this.submit}\n                    disabled={this.state.loading}\n                  >\n                    {this.state.loading && (\n                      <span\n                        className=\"spinner-border spinner-border-sm\"\n                        role=\"status\"\n                        aria-hidden=\"true\"\n                      ></span>\n                    )}\n                    {this.state.loading && <span>Signing In</span>}\n                    {!this.state.loading && <span>Sign In</span>}\n                  </Button>\n                </Card.Text>\n              </Card.Body>\n              <Card.Footer className=\"text-muted text-center\">\n                <Row>\n                  <Col>\n                    <Link to=\"/\">Home</Link>\n                  </Col>\n                  <Col className=\"text-sm-right\" sm={{ span: 8 }}>\n                    No account?\n                    <Link to=\"/registration\" id=\"custom-link\">\n                      {\" \"}\n                      Register\n                    </Link>\n                  </Col>\n                </Row>\n              </Card.Footer>\n            </Card>\n          </Col>\n        </Row>\n      </Container>\n    );\n  }\n}\n\nexport default withRouter(Login)\n"]},"metadata":{},"sourceType":"module"}